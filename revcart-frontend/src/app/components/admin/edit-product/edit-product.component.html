<div class="edit-product-container">
  <div class="form-header">
    <h1 class="form-title">
      <i class="fas fa-edit"></i>
      Edit <span class="neon-text">Product</span>
    </h1>
    <button class="back-btn" (click)="cancel()">
      <i class="fas fa-arrow-left"></i>
      Back to Products
    </button>
  </div>

  <div *ngIf="loading" class="loading-state">
    <i class="fas fa-spinner fa-spin"></i>
    <p>Loading product...</p>
  </div>

  <form *ngIf="!loading" (ngSubmit)="onSubmit()" #productForm="ngForm" class="product-form glass-card">
    <div class="form-section">
      <h3>Basic Information</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="name">Product Name *</label>
          <input 
            type="text" 
            id="name"
            [(ngModel)]="product.name"
            name="name"
            class="form-control"
            placeholder="Enter product name"
            required>
        </div>
        
        <div class="form-group">
          <label for="category">Category *</label>
          <select 
            id="category"
            [(ngModel)]="product.category"
            name="category"
            class="form-control"
            required>
            <option value="">Select Category</option>
            <option *ngFor="let category of categories" [value]="category">
              {{category | titlecase}}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <textarea 
          id="description"
          [(ngModel)]="product.description"
          name="description"
          class="form-control"
          rows="3"
          placeholder="Enter product description"></textarea>
      </div>

      <div class="form-group">
        <label for="imageUrl">Image URL</label>
        <input 
          type="url" 
          id="imageUrl"
          [(ngModel)]="product.imageUrl"
          name="imageUrl"
          class="form-control"
          placeholder="https://example.com/image.jpg">
      </div>
    </div>

    <div class="form-section">
      <h3>Pricing & Stock</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="price">Price (₹) *</label>
          <input 
            type="number" 
            id="price"
            [(ngModel)]="product.price"
            name="price"
            class="form-control"
            placeholder="0.00"
            min="0"
            step="0.01"
            required>
        </div>
        
        <div class="form-group">
          <label for="discountPrice">Discount Price (₹)</label>
          <input 
            type="number" 
            id="discountPrice"
            [(ngModel)]="product.discountPrice"
            name="discountPrice"
            class="form-control"
            placeholder="0.00"
            min="0"
            step="0.01">
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="initialStock">Initial Stock *</label>
          <input 
            type="number" 
            id="initialStock"
            [(ngModel)]="product.initialStock"
            name="initialStock"
            class="form-control"
            placeholder="0"
            min="0"
            required>
        </div>
        
        <div class="form-group">
          <label for="currentStock">Current Stock *</label>
          <input 
            type="number" 
            id="currentStock"
            [(ngModel)]="product.currentStock"
            name="currentStock"
            class="form-control"
            placeholder="0"
            min="0"
            required>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="rating">Rating</label>
          <input 
            type="number" 
            id="rating"
            [(ngModel)]="product.rating"
            name="rating"
            class="form-control"
            min="0"
            max="5"
            step="0.1"
            placeholder="4.5">
        </div>
        
        <div class="form-group">
          <label class="checkbox-label">
            <input 
              type="checkbox" 
              [(ngModel)]="product.active"
              name="active">
            <span class="checkmark"></span>
            Product Active
          </label>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-cancel" (click)="cancel()">
        Cancel
      </button>
      <button type="submit" class="btn-submit" [disabled]="!productForm.valid">
        <i class="fas fa-save"></i>
        Update Product
      </button>
    </div>
  </form>
</div>